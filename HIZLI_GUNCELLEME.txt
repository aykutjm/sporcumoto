â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     HIZLI GÃœNCELLEME KOMUTU - TarayÄ±cÄ± Konsoluna YapÄ±ÅŸtÄ±rÄ±n
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸ Ã–NEMLÄ°: Bu komutu admin.html sayfasÄ±nda Ã§alÄ±ÅŸtÄ±rÄ±n!

1. admin.html sayfasÄ±na gidin ve giriÅŸ yapÄ±n
2. F12 tuÅŸuna basÄ±n (veya saÄŸ tÄ±k > Ä°ncele)
3. "Console" sekmesine tÄ±klayÄ±n
4. AÅŸaÄŸÄ±daki kodu TAMAMEN kopyalayÄ±n ve yapÄ±ÅŸtÄ±rÄ±n
5. Enter tuÅŸuna basÄ±n

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
KODU BURADAN KOPYALAYIN â¬‡ï¸
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

(async function() {
    const PHONE = '05054771397';
    const OLD_NAME = 'Elif Beren Karasu';
    const NEW_NAME = 'Ahmet TarÄ±k GÃ¼mÃ¼ÅŸ';
    
    try {
        console.log('ğŸ” AranÄ±yor:', PHONE);
        
        const phones = [PHONE, PHONE.substring(1), '90' + PHONE.substring(1)];
        let found = null;
        
        for (const p of phones) {
            const q = window.firebase.query(
                window.firebase.collection(window.db, 'preRegistrations'),
                window.firebase.where('phone', '==', p)
            );
            const snap = await window.firebase.getDocs(q);
            
            if (!snap.empty) {
                snap.docs.forEach(doc => {
                    const d = doc.data();
                    if (d.studentName === OLD_NAME || d.parentName === OLD_NAME) {
                        found = { id: doc.id, ...d };
                    }
                });
                if (found) break;
            }
        }
        
        if (!found) {
            alert('âŒ KayÄ±t bulunamadÄ±: ' + OLD_NAME);
            return;
        }
        
        console.log('âœ… Bulundu:', found.id);
        
        const isChild = found.parentName && found.studentName && found.parentName !== found.studentName;
        const update = isChild ? { studentName: NEW_NAME } : { studentName: NEW_NAME, parentName: NEW_NAME };
        
        await window.firebase.updateDoc(
            window.firebase.doc(window.db, 'preRegistrations', found.id),
            update
        );
        
        console.log('âœ… Ã–n kayÄ±t gÃ¼ncellendi');
        
        // Ãœye kaydÄ±nÄ± da gÃ¼ncelle
        const mq = window.firebase.query(
            window.firebase.collection(window.db, 'members'),
            window.firebase.where('preRegistrationId', '==', found.id)
        );
        const msnap = await window.firebase.getDocs(mq);
        
        if (!msnap.empty) {
            const mdoc = msnap.docs[0];
            const mdata = mdoc.data();
            const mupdate = mdata.Resit_Olmayan_Adi_Soyadi 
                ? { Resit_Olmayan_Adi_Soyadi: NEW_NAME }
                : { Ad_Soyad: NEW_NAME };
            
            await window.firebase.updateDoc(
                window.firebase.doc(window.db, 'members', mdoc.id),
                mupdate
            );
            
            console.log('âœ… Ãœye kaydÄ± gÃ¼ncellendi');
        }
        
        alert('ğŸ‰ BaÅŸarÄ±lÄ±!\n\n' + OLD_NAME + '\nâ†“\n' + NEW_NAME + '\n\nSayfayÄ± yenileyin (F5)');
        
    } catch (err) {
        console.error('âŒ Hata:', err);
        alert('âŒ Hata: ' + err.message);
    }
})();

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
KODU BURAYA KADAR KOPYALAYIN â¬†ï¸
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ Komutu yapÄ±ÅŸtÄ±rdÄ±ktan sonra:
   - Enter tuÅŸuna basÄ±n
   - "BaÅŸarÄ±lÄ±" mesajÄ±nÄ± bekleyin
   - SayfayÄ± yenileyin (F5)
   - DeÄŸiÅŸikliÄŸi kontrol edin

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

