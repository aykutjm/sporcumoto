=== YENÄ° createPdf FONKSIYONU ===
Bu kod kayit.html'de 1910-2194 satÄ±rlarÄ± arasÄ±ndaki eski createPdf fonksiyonunun yerine geÃ§ecek.

async function createPdf(data) {
    try {
        console.log('ðŸš€ ===== html2pdf.js ile PDF OluÅŸturuluyor =====');
        
        // âœ… SÃ¶zleÅŸme HTML'ini hazÄ±rla
        let contractHTML;
        if (window.contractTemplate) {
            console.log('ðŸ“„ Admin panelden yÃ¼klenen sÃ¶zleÅŸme kullanÄ±lÄ±yor');
            contractHTML = replacePlaceholders(
                window.contractTemplate, 
                data, 
                clubData, 
                currentPreRegistration.paymentSchedule
            );
        } else {
            console.log('ðŸ“„ VarsayÄ±lan sÃ¶zleÅŸme kullanÄ±lÄ±yor');
            const sections = getContractSections(clubData, data, currentPreRegistration.paymentSchedule);
            contractHTML = sections.join('\n\n');
        }
        
        console.log('ðŸ“„ SÃ¶zleÅŸme hazÄ±rlandÄ±:', contractHTML.length, 'karakter');
        
        // âœ… <hr> â†’ CSS page-break
        contractHTML = contractHTML.replace(/<hr\s*\/?>/gi, '<div class="page-break"></div>');
        
        // âœ… BaÅŸlÄ±k
        const headerTitle = pageHeaderTitle || clubData?.name || 'Spor KulÃ¼bÃ¼';
        
        // âœ… Tam HTML dokÃ¼mant - CSS ile sayfalama kontrolÃ¼
        const fullHTML = `
            <style>
                /* ===== TEMEL STÄ°LLER ===== */
                body {
                    font-family: 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
                    font-size: 11pt;
                    line-height: 1.6;
                    color: #1f2937;
                    margin: 0;
                    padding: 0;
                }
                
                /* ===== SAYFA SONU KONTROLLARI ===== */
                h1, h2, h3, h4, h5, h6 {
                    page-break-after: avoid; /* BaÅŸlÄ±ktan sonra sayfa sonu olmasÄ±n */
                    page-break-inside: avoid; /* BaÅŸlÄ±k bÃ¶lÃ¼nmesin */
                }
                
                /* ===== BAÅžLIKLAR ===== */
                h1 {
                    font-size: 18pt;
                    font-weight: bold;
                    color: #667eea;
                    text-align: center;
                    border-bottom: 2pt solid #667eea;
                    padding-bottom: 10pt;
                    margin-bottom: 20pt;
                }
                
                h4 {
                    font-size: 13pt;
                    font-weight: bold;
                    color: #374151;
                    margin-top: 15pt;
                    margin-bottom: 10pt;
                }
                
                h3, h5 {
                    font-size: 11pt;
                    font-weight: 600;
                    color: #4b5563;
                    margin: 12pt 0 8pt 0;
                }
                
                /* ===== PARAGRAFLAR ===== */
                p {
                    margin: 8pt 0;
                    text-align: justify;
                    line-height: 1.7;
                    orphans: 3; /* Min 3 satÄ±r sayfa altÄ±nda kalabilir */
                    widows: 3; /* Min 3 satÄ±r yeni sayfaya geÃ§ebilir */
                }
                
                strong, b {
                    font-weight: bold;
                    color: #111827;
                }
                
                /* ===== LÄ°STELER ===== */
                ul, ol {
                    margin: 10pt 0 10pt 20pt;
                    line-height: 1.8;
                    page-break-inside: avoid; /* Liste bÃ¶lÃ¼nmesin */
                }
                
                li {
                    margin: 5pt 0;
                }
                
                /* ===== TABLOLAR ===== */
                table {
                    width: 100%;
                    border-collapse: collapse;
                    margin: 12pt 0;
                    font-size: 9pt;
                    page-break-inside: avoid; /* Tablo bÃ¶lÃ¼nmesin */
                }
                
                th, td {
                    border: 1pt solid #d1d5db;
                    padding: 6pt 5pt;
                    text-align: left;
                }
                
                th {
                    background-color: #f3f4f6;
                    font-weight: bold;
                    color: #374151;
                }
                
                td {
                    background-color: #ffffff;
                }
                
                /* ===== MANUEL SAYFA SONU ===== */
                .page-break {
                    page-break-before: always;
                    clear: both;
                }
                
                /* ===== Ä°MZA BLOÄžU (HER SAYFADA) ===== */
                .signature-footer {
                    position: fixed;
                    bottom: 0;
                    left: 0;
                    right: 0;
                    text-align: center;
                    padding: 10pt 15pt;
                    border-top: 1pt solid #e5e7eb;
                    background: white;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    flex-direction: column;
                }
                
                .signature-footer img {
                    width: 100pt;
                    height: 50pt;
                    border: 1pt solid #d1d5db;
                    border-radius: 3pt;
                    background: white;
                }
                
                .signature-footer p {
                    margin: 5pt 0 0 0;
                    font-size: 9pt;
                    color: #4b5563;
                }
                
                /* Print optimization */
                @media print {
                    body {
                        -webkit-print-color-adjust: exact;
                        print-color-adjust: exact;
                    }
                }
            </style>
            <div style="padding-bottom: 80pt;"> <!-- Ä°mza iÃ§in alan bÄ±rak -->
                <h1>${headerTitle} Ãœyelik SÃ¶zleÅŸmesi</h1>
                ${contractHTML}
            </div>
            <div class="signature-footer">
                <img src="${data.signature}" alt="Ä°mza" />
                <p><strong>${data.Ad_Soyad}</strong></p>
                <p>${new Date(data.timestamp).toLocaleString('tr-TR', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                })}</p>
            </div>
        `;
        
        // âœ… GeÃ§ici element oluÅŸtur
        const element = document.createElement('div');
        element.innerHTML = fullHTML;
        element.style.position = 'absolute';
        element.style.left = '-9999px';
        element.style.width = '210mm'; // A4 geniÅŸliÄŸi
        document.body.appendChild(element);
        
        console.log('ðŸ”„ PDF render baÅŸlÄ±yor... (10-30 saniye sÃ¼rebilir)');
        
        // âœ… html2pdf ayarlarÄ±
        const opt = {
            margin: [20, 15, 25, 15], // mm [Ã¼st, saÄŸ, alt, sol]
            filename: `sozlesme_${data.Ad_Soyad.replace(/\s+/g, '_')}.pdf`,
            image: { type: 'jpeg', quality: 0.95 },
            html2canvas: { 
                scale: 2,
                useCORS: true,
                allowTaint: true,
                letterRendering: true, // TÃ¼rkÃ§e karakterler
                logging: false,
                backgroundColor: '#ffffff'
            },
            jsPDF: { 
                unit: 'mm',
                format: 'a4',
                orientation: 'portrait',
                compress: true
            },
            pagebreak: {
                mode: ['avoid-all', 'css', 'legacy'], // CSS page-break desteÄŸi
                before: '.page-break', // .page-break class'Ä±ndan Ã¶nce sayfa sonu
                avoid: ['table', 'ul', 'ol', 'img', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'] // Bu elementler bÃ¶lÃ¼nmez
            }
        };
        
        // âœ… PDF oluÅŸtur
        const pdf = await html2pdf().set(opt).from(element).toPdf().get('pdf');
        
        // âœ… GeÃ§ici element'i temizle
        document.body.removeChild(element);
        
        // âœ… Sayfa numaralarÄ± ekle
        const totalPages = pdf.internal.getNumberOfPages();
        console.log(`ðŸ“Š Toplam sayfa sayÄ±sÄ±: ${totalPages}`);
        
        for (let i = 1; i <= totalPages; i++) {
            pdf.setPage(i);
            pdf.setFontSize(9);
            pdf.setTextColor(128);
            pdf.text(
                `Sayfa ${i} / ${totalPages}`,
                190, // X pozisyonu (mm)
                287, // Y pozisyonu (mm) - Sayfa altÄ±
                { align: 'right' }
            );
        }
        
        console.log('âœ… Sayfa numaralarÄ± eklendi');
        console.log('âœ… ===== PDF BAÅžARIYLA OLUÅžTURULDU =====');
        
        return pdf;
        
    } catch (error) {
        console.error('âŒ PDF oluÅŸturma hatasÄ±:', error);
        throw new Error('SÃ¶zleÅŸme PDF dosyasÄ± oluÅŸturulurken bir hata oluÅŸtu: ' + error.message);
    }
}

=== DEÄžÄ°ÅžÄ°KLÄ°K NOTU ===
Bu yeni fonksiyon:
âœ… html2pdf.js kullanÄ±yor (eski html2canvas yerine)
âœ… CSS page-break desteÄŸi var (otomatik sayfalama)
âœ… Her sayfada imza bloÄŸu gÃ¶rÃ¼nÃ¼yor (fixed position footer)
âœ… SatÄ±r sonlarÄ± ve paragraflar korunuyor
âœ… Tablolar ve listeler bÃ¶lÃ¼nmÃ¼yor (page-break-inside: avoid)
âœ… BaÅŸlÄ±klar iÃ§erikleriyle aynÄ± sayfada kalÄ±yor (page-break-after: avoid)
âœ… TÃ¼rkÃ§e karakter desteÄŸi tam (letterRendering: true)




















